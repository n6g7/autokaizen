{
  "rules": {
    "projects": {
      ".read": "auth != null && root.child('users/'+auth.uid+'/access').val() == true",
      ".write": "auth != null && root.child('users/'+auth.uid+'/access').val() == true",

      "$pid": {
        "currentSprint": { ".validate": "newData.isNumber()" },
        "name": { ".validate": "newData.isString()" },
        "hookId": { ".validate": "!data.exists() && newData.isString()" },

        "defects": {
          "$did": {
            "analysed": { ".validate": "newData.isBoolean()" },
            "cardId": { ".validate": "newData.isString()" },
            "cardNumber": { ".validate": "newData.isNumber()" },
            "labelId": { ".validate": "newData.isString()" },
            "sprint": { ".validate": "newData.isNumber()" },
            "userStory": { ".validate": "newData.isString()" }
          }
        },

        "labels": {
          "$lid": {
            "colour": { ".validate": "newData.isString()" },
            "name": { ".validate": "newData.isString()" }
          }
        }
      }
    },

    "users": {
      ".read": false,
      ".write": false,

      "$uid": {
        "access": { ".validate": "newData.isBoolean()" }
      }
    }
  }
}
